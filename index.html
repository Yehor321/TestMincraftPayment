<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./index.css">
</head>
<body>

    <header>
        <user>
            <div  class="header__user_logo"></div> 
            <div class="header__user_name">User name</div>
        </user>
        <button>Home</button>
    </header>

    <main>
        <div onclick="AnimationBox(event)" class="testBox">
            <img src="./img/Group1.png" alt="">
            <p class="demoQWE"></p>
            <h3 class="demoPrice"></h3>
        </div>
        <div onclick="AnimationBox(event)" class="testBox">
            <img src="./img/Group1.png" alt="">
            <p class="demoQWE"></p>
            <h3 class="demoPrice"></h3>
        </div>
    </main>

    <div class="textTelegramAPI">
        <div id="usercard"> <!--Карта профиля, человека, который к нам обратился-->
        </div>
        <p>Just text</p> <!--Просто текст для проверки-->
        <a class="link" href="https://mihailgok.ru">Link</a> <!--Просто ссылка для проверки-->
        <p class="hint">Some little hint</p> <!--Просто текст-подсказка для проверки-->
        <button id="btn" class="button">Show/Hide Main Button</button> <!--Кнопка, чтобы скрыть / показать основную кнопку-->
        <button id="btnED" class="button">Enable/Disable Main Button</button> <!--Кнопка, чтобы сделать кнопку активной/неактивной-->
     
    </div>

    <script src="https://telegram.org/js/telegram-web-app.js"></script>

    <script>

        // let tg = window.Telegram.WebApp; //получаем объект webapp телеграма 
        // let usercard = document.getElementById("usercard"); //получаем блок usercard 

        // let profName = document.createElement('p'); //создаем параграф
        // profName.innerText = `${tg.initDataUnsafe.user.first_name}
        // ${tg.initDataUnsafe.user.last_name}
        // ${tg.initDataUnsafe.user.username} (${tg.initDataUnsafe.user.language_code})`;
        // //выдем имя, "фамилию", через тире username и код языка
        // usercard.appendChild(profName); //добавляем 

        // let userid = document.createElement('p'); //создаем еще параграф 
        // userid.innerText = `${tg.initDataUnsafe.user.id}`; //показываем user_id
        // usercard.appendChild(userid); //добавляем


        const DataGoods = [
            {
                img: "./img/Group1.png",
                description: "dolor sit amet consectetur adipisicing elit. Quo et quas eaque cumque necessitatibus voluptates odit laudantium? Commodi tenetur expedita, qui placeat impedit, consequatur accusantium facere perferendis temporibus, laborum non.",
                price: "100$"
            },
            {
                img: "./img/Group2.png",
                description: "test2 API img",
                price: "200$"
            },
        ];

        function DrawBoxGoods(dataArray){
            const main = document.createElement('main')
            dataArray.forEach(Element => {

                const div = document.createElement('div')
                div.className = 'testBox'
                
                const p = document.createElement('p')
                p.className = 'demoQWE'

                const h3 = document.createElement('h3')
                h3.className = 'demoPrice'
                
                div.onclick = (event) => AnimationBox(event)
                const img = document.createElement('img')
                img.src = Element.img
                img.alt = Element.price

                main.appendChild(div)
                div.appendChild(img)
                div.appendChild(p)
                div.appendChild(h3)
            });
            document.body.appendChild(main)
        }

        // DrawBoxGoods(DataGoods)

        let cheche = true

        function AnimationBox(event){
            const pElement = event.currentTarget.querySelector('.demoQWE')
            const h3Element = event.currentTarget.querySelector('.demoPrice')
            const index = Array.from(event.currentTarget.parentNode.children).indexOf(event.currentTarget)
            if(cheche){
                // main.classList.add()
                event.currentTarget.classList.add('qwer')
                pElement.innerHTML = DataGoods[index].description;
                h3Element.innerHTML = DataGoods[index].price;
                cheche = false
            }else{
                event.currentTarget.classList.remove('qwer')
                pElement.innerHTML = " ";
                h3Element.innerHTML = " ";
                cheche = true
            }
        }


    </script>

</body>
</html>

<!-- <div onclick="AnimationBox(event)" class="testBox">
    <img src="./img/Group1.png" alt="">
    <p class="demoQWE"></p>
    <h3 class="demoPrice"></h3>
</div> -->

<!-- 
tg.initDataUnsafe.user.id // уникальный идентификатор пользователя
tg.initDataUnsafe.user.isBot // бот ли пользователь (true/false)
tg.initDataUnsafe.user.first_name // имя пользователя
tg.initDataUnsafe.user.last_name // "фамилия" пользователя
tg.initDataUnsafe.user.username // username пользователя
tg.initDataUnsafe.user.language_code // код языка пользователя 
-->